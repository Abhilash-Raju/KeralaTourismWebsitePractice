<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Login Page</title>
    <!-- jquery and popper script command -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    <!-- Fontawesome stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Bootstrap sytlesheet -->
    <link rel="stylesheet" href="./bootstrap.min.css">
    <link rel="stylesheet" href="form.css">
</head>
<body>
     <!-- Navigation Bar Start -->
     <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="./index.html">
                <img src="./KTWImages/BackgroundImages/Cheers.gif" alt="Logo" width="80" height="80">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav" >
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="./index.html"><b>Home</b></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#"><b>Login</b></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./signuppage.html"><b>Sign Up</b></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./photogallery.html"><b>Photo Gallery</b></a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <b>Places to Visit</b>
                    </a>
                      <ul class="dropdown-menu myDropDown" aria-labelledby="navbarDropdownMenuLink">
                          <li><a class="dropdown-item" href="./kasaragod.html">Kasaragod</a></li>
                          <li><a class="dropdown-item" href="./kannur.html">Kannur</a></li>
                          <li><a class="dropdown-item" href="./kozhikode.html">Kozhikode</a></li>
                          <li><a class="dropdown-item" href="./wayanad.html">Wayanad</a></li>
                          <li><a class="dropdown-item" href="./malapurram.html">Malappuram</a></li>
                          <li><a class="dropdown-item" href="./palakkad.html">Palakkad</a></li>
                          <li><a class="dropdown-item" href="./thrissur.html">Thrissur</a></li>
                          <li><a class="dropdown-item" href="./ernakulam.html">Ernakulam</a></li>
                          <li><a class="dropdown-item" href="./idukki.html">Idukki</a></li>
                          <li><a class="dropdown-item" href="./kottayam.html">Kottayam</a></li>
                          <li><a class="dropdown-item" href="./alappuzha.html">Alappuzha</a></li>
                          <li><a class="dropdown-item" href="./pathanamthitta.html">Pathanamthitta</a></li>
                          <li><a class="dropdown-item" href="./kollam.html">Kollam</a></li>
                          <li><a class="dropdown-item" href="./thiruvanathapuram.html">Thiruvananthapuram</a></li>
                      </ul>
                  </li>
                  </ul>
              </div>
        </div>
      </nav>
      <!-- /Navigation Bar End -->

      <!-- Form Start -->
      <div class="container text-center text-md-start mt-5" style="padding-top: 200px; "></div>


        <div class="container text-center text-md-start mt-5" id="myform">
                <h2>Log In</h2>
                <br>
                <h6>Welcome Back</h6>
                <form action="https://retail.ictkerala.org/login/index.php" id="form" class="form"  target="_blank">
                    
                    <div class="mb-3 form-control">
                        <label for="Email">Email</label>
                        <input type="email" placeholder="Enter your Email" id="email" autocomplete="off"/>
                        <i class="fas fa-check-circle"></i>
                        <i class="fas fa-exclamation-circle"></i>
                        <small>Error message</small>
                    </div>
                    
                    <div class="mb-3 form-control">
                        <label for="Password">Password</label>
                        <input type="password" placeholder="Password" id="password" autocomplete="off"/>
                        <div class="pw-display-toggle-btn">
                        <i class="fas fa-eye" id ="myEye" ></i>
                        <i class="fas fa-eye-slash" id ="myEye" ></i>
                        </div>
                        
                        <small>Error message</small>
                    </div>
                    
                    <button type="submit" name="submitButton">Submit</button>
                </form>

                <p class="para-2">
                    Don't have an account? <a href="./signuppage.html"><b>Sign Up Here</b></a>
                </p>
        </div>
    
       
    <div class="col-lg-4" style="padding-bottom: 90px; "></div>
        <!-- Form End -->

<!-- Footer Start -->
<section class="">
    <!-- Footer -->
    <footer class="text-center text-white" style="background-color: rgb(45, 90, 105);">
    <!-- Grid container -->
    <br>
    <section class="">
        <div class="container text-center text-md-start mt-5">
        <!-- Grid row -->
        <div class="row mt-3">
            <!-- Grid column -->
            <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
            <!-- Content -->
            <h5 class="text-white fw-bold mb-4">
                <i class="fas fa-gem me-3"></i>My Kerala Tourism
            </h5>
            <p>
                Kerala Tourism offer packages for every kind of Kerala tourism plans, whether it is your family, honeymoon, pilgrimage visit, cultural tour, ayurveda package or adventurous trip.
            </p>
            </div>
            <!-- Grid column -->
            <!-- Grid column -->
            <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
            <!-- Links -->
            <h5 class="text fw-bold mb-4">
                Useful links
            </h5>
            <p>
                <a href="./index.html" class="text-reset" style="text-decoration: none;">Home</a>
            </p>
            <p>
                <a href="./loginpage.html" class="text-reset"  style="text-decoration: none;">Login</a>
            </p>
            <p>
                <a href="./photogallery.html" class="text-reset" style="text-decoration: none;">Photo Gallery</a>
            </p>
            
            
            
            </div>
            <!-- Grid column -->
    
            <!-- Grid column -->
            <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
            <!-- Links -->
            <h5 class="text fw-bold mb-4">
                <a href="#" class="text-reset" style="text-decoration: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-up-square-fill" viewBox="0 0 16 16">
                        <path d="M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm6.5-4.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 1 0z"/>
                    </svg>
                    Back to Top
                </a>
            </h5>
            
            </div>
            <!-- Grid column -->
        </div>
        <!-- Grid row -->
        </div>
        </section>
    <div class="container p-4 pb-0">
        <!-- Section: CTA -->
        <section class="">
        <p class="d-flex justify-content-center align-items-center">
            <span class="me-3">Register for free</span>
            <a target="_blank" class="btn btn-outline-light btn-lg m-2" href="./signuppage.html"
                role="button" target="_blank">Sign Up!</a>
        </p>
        </section>
        <!-- Section: CTA -->
    </div>

    
    <!-- Grid container -->

    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
        Â© 2022 Copyright:
        <a class="text-white" href="./index.html">MyKeralaTourism.com</a>
    </div>
    <!-- Copyright -->
    </footer>
    <!-- Footer -->
</section>
<!-- Footer End -->
    <script >
        const email = document.getElementById('email');
        const password = document.getElementById('password');
        form.addEventListener('submit', e => {
	e.preventDefault();
	checkInputs()
		e.currentTarget.submit();
	
	});
	// 

function checkInputs() {
	// trim to remove the whitespaces
	
	const emailValue = email.value.trim();
	const passwordValue = password.value.trim();
	
	
	var alpha= /^[a-zA-Z0-9!@#\$%\^\&*\)\(+=._-]{8,}$/g;
	var space =/[\s]+/;
	
	
	if(emailValue === '') {
		setErrorFor(email, 'Email cannot be blank');
	} else if (!isEmail(emailValue)) {
		setErrorFor(email, 'Not a valid email');
	} else {
		setSuccessFor(email);
	}

	

	if(passwordValue === '') {
		setErrorFor(password, 'Password cannot be blank');
	}
	else if(password.value.match(space)) 
	{
		setErrorFor(password, 'Remove spaces');
	} else if(password.value.match(alpha)) {
        setSuccessFor(password);
		
	} 
	 else {
		setErrorFor(password, 'Atleast 8 characters are required in Password');
	}
	
}

function setErrorFor(input, message) {
	const formControl = input.parentElement;
	const small = formControl.querySelector('small');
	formControl.className = 'form-control error';
	small.innerText = message;
}

function setSuccessFor(input) {
	const formControl = input.parentElement;
	formControl.className = 'form-control success';
}
	
function isEmail(email) 
{
	return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email);
}



// Password strength

function getPasswordStrength(password){
	let s = 0;
	if(password.length > 6){
	  s++;
	}
	if(password.length > 8){
	  s++;
	}
	if(/[A-Z]/.test(password)){
	  s++;
	}
	if(/[0-9]/.test(password)){
	  s++;
	}
	if(/[^A-Za-z0-9]/.test(password)){
	  s++;
	}
	return s;
  }
  document.querySelector(".form-control #password").addEventListener("focus",function(){
	document.querySelector(".form-control .pw-strength").style.display = "block";
  });


  document.querySelector(".form-control .pw-display-toggle-btn").addEventListener("click",function(){
	let el = document.querySelector(".form-control .pw-display-toggle-btn");
	if(el.classList.contains("active")){
	  document.querySelector(".form-control #password").setAttribute("type","password");
	  el.classList.remove("active");
	} else {
	  document.querySelector(".form-control #password").setAttribute("type","text");
	  el.classList.add("active");
	}
  });
  
  
  document.querySelector(".form-control #password").addEventListener("keyup",function(e){
	let password = e.target.value;
	let strength = getPasswordStrength(password);
	let passwordStrengthSpans = document.querySelectorAll(".form-control .pw-strength span");
	strength = Math.max(strength,1);
	passwordStrengthSpans[1].style.width = strength*20 + "%";
	if(strength < 2){
	  passwordStrengthSpans[0].innerText = "Weak";
	  passwordStrengthSpans[0].style.color = "#111";
	  passwordStrengthSpans[1].style.background = "#d13636";
	} else if(strength >= 2 && strength <= 4){
	  passwordStrengthSpans[0].innerText = "Medium";
	  passwordStrengthSpans[0].style.color = "#111";
	  passwordStrengthSpans[1].style.background = "#e6da44";
	} else {
	  passwordStrengthSpans[0].innerText = "Strong";
	  passwordStrengthSpans[0].style.color = "#fff";
	  passwordStrengthSpans[1].style.background = "#20a820";
	}
  });
	

    </script>
</body>
</html>